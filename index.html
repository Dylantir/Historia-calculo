<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Línea de Tiempo: Historia del Cálculo</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    background: #f0f4f8;
    color: #333;
  }

  header {
    background: linear-gradient(90deg, #4a90e2, #50e3c2);
    color: white;
    padding: 20px;
    text-align: center;
  }

  main {
    max-width: 1000px;
    margin: 30px auto;
    padding: 0 20px;
  }

  h2 {
    color: #4a90e2;
    margin-top: 40px;
    text-align: center;
  }

  ul.timeline {
    display: flex;
    flex-direction: row; /* Línea horizontal */
    gap: 15px;
    overflow-x: auto;
    padding: 10px;
    list-style: none;
    margin: 20px 0;
  }

  ul.timeline li {
    padding: 15px 20px;
    background: #ffffff;
    border: 2px solid #4a90e2;
    border-radius: 10px;
    min-width: 200px;
    text-align: center;
    cursor: grab;
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
    transition: transform 0.2s, background 0.3s;
    flex-shrink: 0; /* que no se achique */
  }

  ul.timeline li:hover {
    transform: scale(1.05);
    background: #e6f2ff;
  }

  ul.timeline li.dragging {
    opacity: 0.5;
  }

  button {
    display: block;
    margin: 30px auto;
    padding: 12px 25px;
    font-size: 16px;
    background: #50e3c2;
    border: none;
    border-radius: 8px;
    color: #fff;
    font-weight: bold;
    cursor: pointer;
  }

  button:hover {
    background: #4acbb1;
  }

  #resultado {
    text-align: center;
    font-weight: bold;
    font-size: 20px;
    margin-top: 15px;
  }
</style>
</head>
<body>
<header>
  <h1>Línea de Tiempo: Historia del Cálculo</h1>
</header>

<main>
  <h2>Organiza los eventos en orden cronológico</h2>
  <p style="text-align:center;">Arrastra las tarjetas para colocarlas en la secuencia correcta:</p>

  <ul id="timeline" class="timeline">
    <li data-orden="1">Hace más de 5.000 años: Egipto y Babilonia registran cosechas</li>
    <li data-orden="2">2000 a. C.: Constructores egipcios aplican geometría en pirámides</li>
    <li data-orden="3">1800 a. C.: Babilonia desarrolla sistema base 60</li>
    <li data-orden="4">Siglos VI–III a. C.: Grecia, Pitágoras, Euclides y Arquímedes</li>
    <li data-orden="5">300 a. C.: Euclides escribe Los Elementos</li>
    <li data-orden="6">Siglo III a. C.: Arquímedes usa método de agotamiento</li>
    <li data-orden="7">Siglo V d. C.: Caída del Imperio Romano</li>
    <li data-orden="8">Siglo IX: Al-Juarismi introduce álgebra; número cero en India</li>
    <li data-orden="9">Siglos XV–XVI: Renacimiento europeo; Descartes y Fermat</li>
    <li data-orden="10">Siglo XVII: Surge el cálculo (Newton y Leibniz)</li>
    <li data-orden="11">1687: Newton publica Principia Mathematica</li>
    <li data-orden="12">Siglos XVIII–XIX: Euler, Lagrange, Cauchy y Riemann perfeccionan análisis</li>
    <li data-orden="13">Siglo XX: Lebesgue y Robinson</li>
    <li data-orden="14">Siglo XXI: Matemáticas en IA e ingeniería espacial</li>
  </ul>

  <button id="comprobar">Comprobar Orden</button>
  <p id="resultado"></p>
</main>

<script>
  const lista = document.getElementById('timeline');
  const resultado = document.getElementById('resultado');

  // ===== Función para desordenar los elementos al cargar =====
  function shuffleList() {
    for (let i = lista.children.length; i >= 0; i--) {
      lista.appendChild(lista.children[Math.random() * i | 0]);
    }
  }
  shuffleList();

  let dragSrcEl = null;

  function handleDragStart(e) {
    dragSrcEl = this;
    e.dataTransfer.effectAllowed = 'move';
    e.dataTransfer.setData('text/html', this.outerHTML);
    this.classList.add('dragging');
  }

  function handleDragOver(e) {
    if (e.preventDefault) e.preventDefault();
    e.dataTransfer.dropEffect = 'move';
    return false;
  }

  function handleDrop(e) {
    if (e.stopPropagation) e.stopPropagation();
    if (dragSrcEl !== this) {
      const temp = this.cloneNode(true);
      this.replaceWith(dragSrcEl.cloneNode(true));
      dragSrcEl.replaceWith(temp);
      addDragEvents();
    }
    return false;
  }

  function handleDragEnd() {
    this.classList.remove('dragging');
  }

  function addDragEvents() {
    const items = lista.querySelectorAll('li');
    items.forEach(item => {
      item.setAttribute('draggable', true);
      item.removeEventListener('dragstart', handleDragStart);
      item.removeEventListener('dragover', handleDragOver);
      item.removeEventListener('drop', handleDrop);
      item.removeEventListener('dragend', handleDragEnd);

      item.addEventListener('dragstart', handleDragStart);
      item.addEventListener('dragover', handleDragOver);
      item.addEventListener('drop', handleDrop);
      item.addEventListener('dragend', handleDragEnd);
    });
  }
  addDragEvents();

  document.getElementById('comprobar').addEventListener('click', function() {
    const elementos = Array.from(lista.querySelectorAll('li'));
    let correctos = 0;

    elementos.forEach((el,i)=>{
      if(parseInt(el.getAttribute('data-orden'))===i+1){
        el.style.background="#d4edda";
        el.style.borderColor="#28a745";
        correctos++;
      }else{
        el.style.background="#f8d7da";
        el.style.borderColor="#dc3545";
      }
    });

    if(correctos===elementos.length){
      resultado.textContent="¡Perfecto! Todos los eventos están en orden.";
      resultado.style.color="#28a745";
    }else{
      resultado.textContent=`Hay ${elementos.length - correctos} evento(s) fuera de lugar.`;
      resultado.style.color="#dc3545";
    }
  });
</script>
</body>
</html>
